<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>RepoHub AIO - GitHub Power Tools</title>
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div class="container">
    <!-- Header -->
    <div class="header">
      <h1>RepoHub AIO</h1>
      <p>GitHub Power Tools</p>
    </div>

    <!-- Tabs -->
    <div class="tabs">
      <button class="tab-btn active" data-tab="dashboard">üìä Dashboard</button>
      <button class="tab-btn" data-tab="prs">üîÑ PRs</button>
      <button class="tab-btn" data-tab="issues">‚ö†Ô∏è Issues</button>
      <button class="tab-btn" data-tab="workflows">‚ö° Actions</button>
      <button class="tab-btn" data-tab="repos">üì¶ Repos</button>
      <button class="tab-btn" data-tab="health">‚ù§Ô∏è Health</button>
      <button class="tab-btn" data-tab="commits">üìù Commits</button>
      <button class="tab-btn" data-tab="tools">üõ†Ô∏è Tools</button>
    </div>

    <!-- DASHBOARD TAB -->
    <div id="dashboard" class="tab-content active">
      <h3>Quick Stats</h3>
      
      <div class="stat-box">
        <span id="pr-count">0</span>
        <p>PRs Awaiting Review</p>
        <button class="btn-small" onclick="switchTab('prs')">View</button>
      </div>

      <div class="stat-box">
        <span id="issue-count">0</span>
        <p>Open Issues</p>
        <button class="btn-small" onclick="switchTab('issues')">View</button>
      </div>

      <div class="stat-box">
        <span id="workflow-count">0</span>
        <p>Workflow Runs</p>
        <button class="btn-small" onclick="switchTab('workflows')">View</button>
      </div>

      <div class="stat-box">
        <span id="repo-count">0</span>
        <p>Tracked Repos</p>
        <button class="btn-small" onclick="switchTab('repos')">View</button>
      </div>
    </div>

    <!-- GITHUB TOKEN SETUP TAB -->
    <div id="tools" class="tab-content">
      <h3>GitHub Token Setup</h3>
      <p>Add your GitHub PAT to unlock all features</p>

      <div class="form-group">
        <label for="githubToken">GitHub Personal Access Token</label>
        <input type="password" id="githubToken" placeholder="ghp_xxxxxxxxxxxxx" class="form-control">
        <small style="color: var(--color-text-secondary);">Create at github.com/settings/tokens</small>
      </div>

      <button class="btn btn-primary" onclick="saveToken()">Save Token</button>
      <button class="btn btn-danger" onclick="resetToken()">Reset Token</button>
      <div id="tokenStatus" class="status"></div>
    </div>

    <!-- PRS TAB -->
    <div id="prs" class="tab-content">
      <h3>Pull Requests</h3>
      
      <div class="filter-buttons">
        <button class="filter-btn active" onclick="document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active')); this.classList.add('active'); filterPRs();">Awaiting Review</button>
        <button class="filter-btn" onclick="document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active')); this.classList.add('active'); filterPRs();">My PRs</button>
        <button class="filter-btn" onclick="document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active')); this.classList.add('active'); filterPRs();">Drafts</button>
        <button class="filter-btn" onclick="document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active')); this.classList.add('active'); filterPRs();">Ready to Merge</button>
      </div>

      <div id="prsList" class="items-list">
        <div class="empty-state"><p>No PRs found. Add your GitHub token to get started.</p></div>
      </div>
    </div>

    <!-- ISSUES TAB -->
    <div id="issues" class="tab-content">
      <h3>Issue Inbox</h3>
      
      <div class="filter-buttons">
        <button class="filter-btn active" onclick="document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active')); this.classList.add('active'); filterIssues();">Open</button>
        <button class="filter-btn" onclick="document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active')); this.classList.add('active'); filterIssues();">Mentioned</button>
        <button class="filter-btn" onclick="document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active')); this.classList.add('active'); filterIssues();">Assigned to Me</button>
        <button class="filter-btn" onclick="document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active')); this.classList.add('active'); filterIssues();">Reported by Me</button>
      </div>

      <div id="issuesList" class="items-list">
        <div class="empty-state"><p>No issues found. Add your GitHub token to get started.</p></div>
      </div>
    </div>

    <!-- WORKFLOWS TAB -->
    <div id="workflows" class="tab-content">
      <h3>Workflow Runs</h3>
      
      <div class="filter-buttons">
        <button class="filter-btn active">Latest</button>
        <button class="filter-btn">Failed</button>
        <button class="filter-btn">Successful</button>
        <button class="filter-btn">In Progress</button>
      </div>

      <div class="items-list">
        <div class="empty-state"><p>No workflows found. Add your GitHub token to get started.</p></div>
      </div>
    </div>

    <!-- REPOS TAB -->
    <div id="repos" class="tab-content">
      <h3>Tracked Repositories</h3>
      
      <div class="form-group">
        <label>Add Repository</label>
        <input type="text" placeholder="username/repo" class="form-control">
        <button class="btn btn-primary" style="margin-top: 8px;">Track Repo</button>
      </div>

      <h3>Your Repos</h3>
      <div class="items-list">
        <div class="empty-state"><p>No tracked repositories yet.</p></div>
      </div>
    </div>

    <!-- HEALTH TAB -->
    <div id="health" class="tab-content">
      <h3>Code Health Insights</h3>
      <div class="empty-state">
        <p>View a repository to see code health metrics.</p>
      </div>
    </div>

    <!-- COMMITS TAB -->
    <div id="commits" class="tab-content">
      <h3>Recent Commits</h3>
      
      <div class="form-group">
        <input type="text" placeholder="Search Commits" class="form-control">
      </div>

      <div class="items-list">
        <div class="empty-state"><p>No commits found. Add your GitHub token to get started.</p></div>
      </div>
    </div>

  </div>

  <script src="popup.js"></script>
</body>
</html>
